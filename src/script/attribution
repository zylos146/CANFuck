Heavily based on
- https://github.com/saghul/txiki.js/blob/master/LICENSE